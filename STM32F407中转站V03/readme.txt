

--------------------------STM32F407ZGT6中转站--------------------------------

节点1：
	连接STM32F103C8T6最小系统,波特率115200
	USART3			PB10-TX;PB11-RX
	控制 LED照明 和 蜂鸣器报警
	指令关系：
		LED切换-----------------A
		LED闪烁-----------------B
		关闭蜂鸣器--------------b
		蜂鸣器长鸣--------------a
		周期性鸣叫--------------c
		
	其他：
		暂时只需要发送控制命令，不需要开接收中断
		
		
		
节点2：
	连接到STM32F407VET6最小系统，波特率9600
	USART2			PA2-TX;PA3-RX
	控制 DHT11温湿度采集 和 步进电机拉动窗帘
	//////////增加烟雾传感器，AD转换，采集模拟值
	指令关系：
		开窗帘--------------------o
		只开一半窗帘--------------h
		关窗帘--------------------c
		读取一次温湿度和烟雾浓度------------A





节点4：
	连接到STM32F407，波特率19200
	USART6		TX--PC6;	RX--PC7
	控制电机驱动散热器风扇和排风扇
	指令关系：
		散热器关-------------------A
		散热器一档-----------------B
		散热器二档----------------C
		散热器三档------------------D

		排风扇关---------------------a
		排风扇一档-----------------b
		排风扇二档---------------c
		排风扇三档------------------d

	



		
		
节点4：
	连接到ESP8266核心板,波特率74880
	USART1			PA9-TX;PA10-RX
	访问云服务器交互数据
	指令关系：
		LED切换------------------light_switch
		LED闪烁-----------------light_flash
		关闭蜂鸣器------------------alarm_off
		蜂鸣器长鸣-----------------alarm_on
		周期性鸣叫---------------alarm_turn		*****待定
		
		开窗帘---------------------"current_full"
		只开一半窗帘---------------"current_half"
		关窗帘--------------------"current_close"
		读取一次温湿度------------"climate"
		
		散热器关-------------------fan0_off
		散热器一档-----------------fan0_1
		散热器二档----------------fan0_2
		散热器三档------------------fan0_3

		排风扇关---------------------fan1_off
		排风扇一档-----------------fan1_1
		排风扇二档----------------fan1_2
		排风扇三档-------------------fan1_3
		
		
节点5：
	连接ESP8266核心板，只作为发送串口
	UART5		PC12-TX; PD2-RX	//ESP8266的D6接RX,即PD2
		
		
		
		
		
		
		
处理数据后，要及时清理数据接收缓存区	
		
		
		
---------------------------其他笔记	----------------------------



1.可以包含C语言中能包含的库函数：
如：	
	#include <stdio.h>
		fopen						fclose
		tmpnam						tmpfile
		remove						rename
		fprintf						printf
		sprintf						snprintf
		fscanf						scanf
		
		
	#include <string.h>		//字符串相关函数
		memcpy						strchr
		memmove						memchr
		strcpy						strcspn
		strncpy						strpbrk
		strcat						strstr
		strncat
		memcmp
		strcmp
		strncmp
		strcasecmp


2.把整形数据转化为字符串
	可以用sprintf()函数：		
		例如：  springf(address,%d,123)	//把整形数字123转化为字符串"123"存在地址 address中

3.比较两个字符串中的前 n 个字符
	strncmp函数为字符串比较函数，字符串大小的比较是以ASCII 码表上的顺序来决定，此顺序亦为字符的值。
	其函数声明为int strncmp ( const char * str1, const char * str2, size_t n );
	功能是把 str1 和 str2 进行比较，最多比较前 n 个字节，
	若str1与str2的前n个字符相同，则返回0；
	若s1大于s2，则返回大于0的值；
	若s1 小于s2，则返回小于0的值
		
		
		
		
		

		
		
		
		
		
		
		